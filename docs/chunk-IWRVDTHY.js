import{a as D,b as R}from"./chunk-LA5VHTEW.js";import{$ as o,Bb as u,Eb as E,Fb as A,Ka as l,Ta as b,U as g,Ub as V,Vb as _,aa as r,ac as I,gb as C,hb as m,ib as v,ic as S,jc as k,la as f,lc as L,ob as a,pb as s,qb as d,rb as y,sb as c,wb as x,xb as M,yb as T}from"./chunk-ZLFRFAFY.js";var z=["textarea"],j=class w{documentListener=g(R);lg=g(L);type=f("email");message=f(" ");isTouched=V(()=>{let e=k.contact.chat.initial_message,t=S.contact.chat.initial_message;return this.message()!==e&&this.message()!==t});textarea;ngAfterViewInit(){this.resizeTextArea()}ngOnInit(){this.message.set(this.lg().contact.chat.initial_message)}constructor(){_(()=>{let e=this.documentListener.screenSize$();this.resizeTextArea()}),_(()=>{this.isTouched()||this.message.set(this.lg().contact.chat.initial_message)})}setType(e){this.type.set(e)}setMessage(e){this.message.set(e)}sendMessage(){let e=encodeURIComponent(this.lg().contact.email_subject),t=encodeURIComponent(this.message());this.type()==="whatsapp"?window.open(`https://api.whatsapp.com/send?phone=5561996111423&text=${t}`):window.open(`mailto:edumoreira.dev@gmail.com?subject=${e}&body=${t}`),console.log(encodeURIComponent(this.message()))}onInput(e){let t=e.target;this.setMessage(t.value),this.resizeTextArea()}resizeTextArea(){if(this.textarea){let e=this.textarea.nativeElement;e.style.height="auto",e.style.height=e.scrollHeight+"px"}}surfaceClick(){let e=this.textarea.nativeElement,t=e.value.length;e.setSelectionRange(t,t),e.focus()}get variantClasses(){return this.type()==="whatsapp"?"focus-within:outline-green-800":"focus-within:outline-neutral-600"}static \u0275fac=function(t){return new(t||w)};static \u0275cmp=b({type:w,selectors:[["app-chat-mail"]],viewQuery:function(t,n){if(t&1&&x(z,5),t&2){let i;M(i=T())&&(n.textarea=i.first)}},hostAttrs:[1,"flex","flex-col","justify-between","bg-neutral-900","rounded-2xl","p-4","outline-1","outline-transparent","focus-within:outline-1","transition-colors"],hostVars:2,hostBindings:function(t,n){t&2&&v(n.variantClasses)},decls:18,vars:9,consts:[["textarea",""],["name","contactme","id","contactme",1,"outline-none","resize-none","bg-transparent","min-h-[4rem]","px-1","w-full","font-semibold","text-neutral-300","placeholder:text-neutral-600","transition-all",3,"input","placeholder","value"],[1,"flex-1","cursor-text","mb-2",3,"mousedown","mouseup"],[1,"flex","gap-2","items-center","justify-between"],["role","radiogroup","aria-label","Escolha o m\xE9todo de contato",1,"flex","items-center","gap-2","text-sm"],["type","button","role","radio",1,"p-2","rounded-full","border","transition-colors",3,"click","ngClass"],[1,"sr-only"],[1,"fi","fi-rr-at","flex"],[1,"fi","fi-brands-whatsapp","flex"],["custom-btn","","variant","contained",1,"py-2","px-4","flex","items-center","gap-2","text-sm","disabled:opacity-50","disabled:pointer-events-none",3,"click","disabled"],[1,"fi","fi-sr-paper-plane","flex"]],template:function(t,n){if(t&1){let i=y();A(0),a(1,"textarea",1,0),c("input",function(h){return o(i),r(n.onInput(h))}),u(3,"    "),s(),a(4,"div",2),c("mousedown",function(h){return o(i),r(h.preventDefault())})("mouseup",function(){return o(i),r(n.surfaceClick())}),s(),a(5,"div",3)(6,"div",4)(7,"button",5),c("click",function(){return o(i),r(n.setType("email"))}),a(8,"span",6),u(9,"Email"),s(),d(10,"i",7),s(),a(11,"button",5),c("click",function(){return o(i),r(n.setType("whatsapp"))}),a(12,"span",6),u(13,"WhatsApp"),s(),d(14,"i",8),s()(),a(15,"button",9),c("click",function(){return o(i),r(n.sendMessage())}),d(16,"i",10),u(17),s()()}if(t&2){let i=n.lg().contact.chat;l(),m("placeholder",i.placeholder)("value",n.message()),l(6),m("ngClass",n.type()==="email"?"border-neutral-100 bg-neutral-100 text-neutral-950":"border-neutral-700 hover:border-neutral-500"),C("aria-checked",n.type()==="email"),l(4),m("ngClass",n.type()==="whatsapp"?"border-green-400 bg-green-400 text-neutral-950":"border-neutral-700 hover:border-neutral-500"),C("aria-checked",n.type()==="whatsapp"),l(4),m("disabled",!n.message()),l(2),E(" ",i.button," ",n.type()==="whatsapp"?"WhatsApp":"Email"," ")}},dependencies:[D,I],encapsulation:2,changeDetection:0})};export{j as ChatMailComponent};
